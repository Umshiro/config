# HTTP 代理端口
port: 7890

# SOCKS5 代理端口
socks-port: 7891

# Linux 和 macOS 的 redir 代理端口 (如需使用此功能，请取消注释)
# redir-port: 7892

# 允许局域网的连接（可用来共享代理）
allow-lan: false

# 规则模式：Rule（规则） / Global（全局代理）/ Direct（全局直连）
mode: Rule

# 设置日志输出级别 (默认级别：info，级别越高日志输出量越大，越倾向于调试)
# 四个级别：silent / info / warning / error / debug
log-level: info

# Clash 的 RESTful API
external-controller: 127.0.0.1:9090

# DNS 设置
dns:
  enable: true # set true to enable dns (default is false)
  ipv6: false # default is false
  listen: 0.0.0.0:53
  # enhanced-mode: redir-host
  nameserver:
    - 117.50.10.10
    - 119.29.29.29
    - 223.5.5.5
    - tls://dns.rubyfish.cn:853 # dns over tls
  fallback: # concurrent request with nameserver, fallback used when GEOIP country isn't CN
    - tls://dns.rubyfish.cn:853
    - tls://dns.google:853

# 代理节点
Proxy:
# 更多协议配置示例：https://github.com/Dreamacro/clash/blob/master/README.md
# Shadowsocks
# 加密算法推荐：AEAD_AES_128_GCM AEAD_AES_192_GCM AEAD_AES_256_GCM AEAD_CHACHA20_POLY1305
- { name: "1", type: ss, server: 183.2.243.118, port: 2333, cipher: aes-128-ctr, password: "doub.io" }

# 代理组策略
Proxy Group:
# 不同于 Surge，后面用到的策略组要放到前面以免报错

# 代理节点选择
- { name: "PROXY", type: select, proxies: ["1"] }

# 白名单模式 PROXY，黑名单模式 DIRECT
- { name: "Final", type: select, proxies: ["PROXY", "DIRECT"] }
- { name: "Apple", type: select, proxies: ["DIRECT", "PROXY"] }
- { name: "Advertising", type: select, proxies: ["DIRECT", "REJECT"] }
- { name: "Hijacking", type: select, proxies: ["DIRECT", "REJECT"] }

# 规则
Rule:
# GeoIP China
- GEOIP,CN,DIRECT

- MATCH,PROXY
